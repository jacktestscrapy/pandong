{"remainingRequest":"/Users/panda/code/vue3+ts/pandong/node_modules/babel-loader/lib/index.js!/Users/panda/code/vue3+ts/pandong/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/panda/code/vue3+ts/pandong/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/panda/code/vue3+ts/pandong/src/views/personalInfo/PersonalInfo.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/panda/code/vue3+ts/pandong/src/views/personalInfo/PersonalInfo.vue","mtime":1616758677778},{"path":"/Users/panda/code/vue3+ts/pandong/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/panda/code/vue3+ts/pandong/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/panda/code/vue3+ts/pandong/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/panda/code/vue3+ts/pandong/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9wYW5kYS9jb2RlL3Z1ZTMrdHMvcGFuZG9uZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IHJlYWN0aXZlIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCB7IGdldCB9IGZyb20gIi4uLy4uL3V0aWxzL3JlcXVlc3QiOwppbXBvcnQgRG9ja2VyIGZyb20gIi4uL2hvbWUvRG9ja2VyIjsKCnZhciB1c2VVc2VyRWZmZWN0ID0gZnVuY3Rpb24gdXNlVXNlckVmZmVjdCgpIHsKICB2YXIgdXNlckluZm8gPSByZWFjdGl2ZSh7CiAgICBfaWQ6ICIiLAogICAgdXNlcm5hbWU6ICIiCiAgfSk7CgogIHZhciBnZXRVc2VySW5mbyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlc3VsdCwgX3Jlc3VsdCRkYXRhLCBfaWQsIHVzZXJuYW1lOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBnZXQoIi9hcGkvdXNlci9pbmZvIik7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKChyZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN1bHQuZXJybm8pID09PSAwICYmIHJlc3VsdCAhPT0gbnVsbCAmJiByZXN1bHQgIT09IHZvaWQgMCAmJiByZXN1bHQuZGF0YSkgewogICAgICAgICAgICAgICAgX3Jlc3VsdCRkYXRhID0gcmVzdWx0LmRhdGEsIF9pZCA9IF9yZXN1bHQkZGF0YS5faWQsIHVzZXJuYW1lID0gX3Jlc3VsdCRkYXRhLnVzZXJuYW1lOwogICAgICAgICAgICAgICAgdXNlckluZm8uX2lkID0gX2lkIHx8ICIiOwogICAgICAgICAgICAgICAgdXNlckluZm8udXNlcm5hbWUgPSB1c2VybmFtZSB8fCAiIjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBnZXRVc2VySW5mbygpIHsKICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpOwoKICBnZXRVc2VySW5mbygpOwogIHJldHVybiB1c2VySW5mbzsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUGVyc29uYWxJbmZvIiwKICBjb21wb25lbnRzOiB7CiAgICBEb2NrZXI6IERvY2tlcgogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwoKICAgIHZhciBoYW5kbGVMb2dvdXQgPSBmdW5jdGlvbiBoYW5kbGVMb2dvdXQoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJpc0xvZ2luIik7CiAgICAgIHJvdXRlci5yZXBsYWNlKHsKICAgICAgICBuYW1lOiAiTG9naW4iCiAgICAgIH0pOwogICAgfTsKCiAgICB2YXIgaGFuZGxlQWRkcmVzc0NsaWNrID0gZnVuY3Rpb24gaGFuZGxlQWRkcmVzc0NsaWNrKCkgewogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogIk15QWRkcmVzc0xpc3QiCiAgICAgIH0pOwogICAgfTsKCiAgICB2YXIgdXNlckluZm8gPSB1c2VVc2VyRWZmZWN0KCk7CiAgICByZXR1cm4gewogICAgICBoYW5kbGVMb2dvdXQ6IGhhbmRsZUxvZ291dCwKICAgICAgaGFuZGxlQWRkcmVzc0NsaWNrOiBoYW5kbGVBZGRyZXNzQ2xpY2ssCiAgICAgIHVzZXJJbmZvOiB1c2VySW5mbwogICAgfTsKICB9Cn07"},{"version":3,"sources":["/Users/panda/code/vue3+ts/pandong/src/views/personalInfo/PersonalInfo.vue"],"names":[],"mappings":";;;;AAsBA,SAAS,QAAT,QAAyB,KAAzB;AACA,SAAS,SAAT,QAA0B,YAA1B;AACA,SAAS,GAAT,QAAoB,qBAApB;AACA,OAAO,MAAP,MAAmB,gBAAnB;;AAEA,IAAM,aAAY,GAAI,SAAhB,aAAgB,GAAM;AAC1B,MAAM,QAAO,GAAI,QAAQ,CAAC;AAAE,IAAA,GAAG,EAAE,EAAP;AAAW,IAAA,QAAQ,EAAE;AAArB,GAAD,CAAzB;;AACA,MAAM,WAAU;AAAA,uEAAI;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACG,GAAG,CAAC,gBAAD,CADN;;AAAA;AACZ,cAAA,MADY;;AAElB,kBAAI,CAAA,MAAM,SAAN,IAAA,MAAM,WAAN,YAAA,MAAM,CAAE,KAAR,MAAkB,CAAlB,IAAuB,MAAvB,aAAuB,MAAvB,eAAuB,MAAM,CAAE,IAAnC,EAAyC;AAAA,+BACb,MAAM,CAAC,IADM,EAC/B,GAD+B,gBAC/B,GAD+B,EAC1B,QAD0B,gBAC1B,QAD0B;AAEvC,gBAAA,QAAQ,CAAC,GAAT,GAAe,GAAE,IAAK,EAAtB;AACA,gBAAA,QAAQ,CAAC,QAAT,GAAoB,QAAO,IAAK,EAAhC;AACF;;AANkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAV,WAAU;AAAA;AAAA;AAAA,KAAhB;;AAQA,EAAA,WAAW;AACX,SAAO,QAAP;AACD,CAZD;;AAcA,eAAe;AACb,EAAA,IAAI,EAAE,cADO;AAEb,EAAA,UAAU,EAAE;AAAE,IAAA,MAAK,EAAL;AAAF,GAFC;AAGb,EAAA,KAHa,mBAGL;AACN,QAAM,MAAK,GAAI,SAAS,EAAxB;;AACA,QAAM,YAAW,GAAI,SAAf,YAAe,GAAM;AACzB,MAAA,YAAY,CAAC,UAAb,CAAwB,SAAxB;AACA,MAAA,MAAM,CAAC,OAAP,CAAe;AAAE,QAAA,IAAI,EAAE;AAAR,OAAf;AACD,KAHD;;AAIA,QAAM,kBAAiB,GAAI,SAArB,kBAAqB,GAAM;AAC/B,MAAA,MAAM,CAAC,IAAP,CAAY;AAAE,QAAA,IAAI,EAAE;AAAR,OAAZ;AACD,KAFD;;AAGA,QAAM,QAAO,GAAI,aAAa,EAA9B;AACA,WAAO;AAAE,MAAA,YAAY,EAAZ,YAAF;AAAgB,MAAA,kBAAkB,EAAlB,kBAAhB;AAAoC,MAAA,QAAO,EAAP;AAApC,KAAP;AACD;AAdY,CAAf","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div class=\"header\">\n      <div class=\"header__info\">\n        <div class=\"header__info__user\">{{ userInfo.username }}</div>\n        <div class=\"header__info__id\">ID:{{ userInfo._id }}</div>\n      </div>\n      <img class=\"header__avatar\" src=\"#\" alt=\"熊孩子\" />\n    </div>\n    <div class=\"list\">\n      <div class=\"list__item\" @click=\"handleAddressClick\">\n        <div class=\"list__item__icon iconfont\">&#xe634;</div>\n        <div class=\"list__item__test\">我的地址</div>\n        <div class=\"list__item__arrow iconfont\">&#xe65e;</div>\n      </div>\n    </div>\n    <div class=\"logout\" @click=\"handleLogout\">退出登陆</div>\n  </div>\n  <Docker :currentIndex=\"3\" />\n</template>\n\n<script>\nimport { reactive } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { get } from \"../../utils/request\";\nimport Docker from \"../home/Docker\";\n\nconst useUserEffect = () => {\n  const userInfo = reactive({ _id: \"\", username: \"\" });\n  const getUserInfo = async () => {\n    const result = await get(\"/api/user/info\");\n    if (result?.errno === 0 && result?.data) {\n      const { _id, username } = result.data;\n      userInfo._id = _id || \"\";\n      userInfo.username = username || \"\";\n    }\n  };\n  getUserInfo();\n  return userInfo;\n};\n\nexport default {\n  name: \"PersonalInfo\",\n  components: { Docker },\n  setup() {\n    const router = useRouter();\n    const handleLogout = () => {\n      localStorage.removeItem(\"isLogin\");\n      router.replace({ name: \"Login\" });\n    };\n    const handleAddressClick = () => {\n      router.push({ name: \"MyAddressList\" });\n    };\n    const userInfo = useUserEffect();\n    return { handleLogout, handleAddressClick, userInfo };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../style/viriables.scss\";\n.wrapper {\n  overflow-y: auto;\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0.5rem;\n  right: 0;\n  background: $dark-bgColor;\n}\n.header {\n  position: relative;\n  height: 1.5rem;\n  background-image: linear-gradient(239deg, #3a6ff3 0%, #50c7fb 100%);\n  padding-top: 0.4rem;\n  &__info {\n    margin: 0.3rem 0.18rem 0 0.18rem;\n    padding-top: 0.46rem;\n    height: 0.66rem;\n    background: #fff;\n    border-radius: 0.08rem;\n    &__user {\n      font-size: 0.24rem;\n      color: #262628;\n      text-align: center;\n      line-height: 0.36rem;\n    }\n    &__id {\n      margin-top: 0.04rem;\n      font-size: 0.14rem;\n      color: #c1c0c9;\n      text-align: center;\n    }\n  }\n  &__avatar {\n    position: absolute;\n    left: 50%;\n    top: 0.2rem;\n    transform: translateX(-50%);\n    width: 0.94rem;\n    height: 0.94rem;\n    border-radius: 50%;\n  }\n}\n.list {\n  margin: 0.16rem 0.18rem 0 0.18rem;\n  background: $bgColor;\n  box-shadow: 0 0.08rem 0.16rem 0 rgba(0, 0, 0, 0.08);\n  border-radius: 0.08rem;\n  &__item {\n    display: flex;\n    padding: 0.2rem;\n    line-height: 0.22rem;\n    font-size: 0.14rem;\n    color: #262626;\n    &__icon {\n      margin-right: 0.12rem;\n      width: 0.22rem;\n      height: 0.22rem;\n      background: #32c5ff;\n      border-radius: 0.08rem;\n      text-align: center;\n      font-weight: bold;\n      color: $bgColor;\n    }\n    &__test {\n      flex: 1;\n    }\n    &__arrow {\n      width: 0.2rem;\n      transform: rotate(180deg);\n      font-weight: bold;\n      color: #c2c4ca;\n    }\n  }\n}\n.logout {\n  margin: 0.18rem;\n  line-height: 0.32rem;\n  background: $btn-bgColor;\n  color: $bgColor;\n  text-align: center;\n  border-radius: 0.04rem;\n}\n</style>\n"],"sourceRoot":""}]}