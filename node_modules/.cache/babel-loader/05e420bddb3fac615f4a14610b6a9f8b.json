{"remainingRequest":"/Users/panda/code/vue3+ts/pandong/node_modules/babel-loader/lib/index.js!/Users/panda/code/vue3+ts/pandong/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/panda/code/vue3+ts/pandong/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/panda/code/vue3+ts/pandong/src/views/register/Register.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/panda/code/vue3+ts/pandong/src/views/register/Register.vue","mtime":1616240190581},{"path":"/Users/panda/code/vue3+ts/pandong/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/panda/code/vue3+ts/pandong/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/panda/code/vue3+ts/pandong/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/panda/code/vue3+ts/pandong/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3BhbmRhL2NvZGUvdnVlMyt0cy9wYW5kb25nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9wYW5kYS9jb2RlL3Z1ZTMrdHMvcGFuZG9uZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgcmVhY3RpdmUsIHRvUmVmcyB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgeyBwb3N0IH0gZnJvbSAiLi4vLi4vdXRpbHMvcmVxdWVzdCI7CmltcG9ydCBUb2FzdCwgeyB1c2VUb2FzdEVmZmVjdCB9IGZyb20gIi4uLy4uL2NvbXBvbmVudHMvVG9hc3QudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZWdpc3RlciIsCiAgLy8g5L2/55So5a2Q57uE5Lu2CiAgY29tcG9uZW50czogewogICAgVG9hc3Q6IFRvYXN0CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CgogICAgdmFyIF91c2VUb2FzdEVmZmVjdCA9IHVzZVRvYXN0RWZmZWN0KCksCiAgICAgICAgc2hvdyA9IF91c2VUb2FzdEVmZmVjdC5zaG93LAogICAgICAgIHRvYXN0TWVzc2FnZSA9IF91c2VUb2FzdEVmZmVjdC50b2FzdE1lc3NhZ2UsCiAgICAgICAgc2hvd1RvYXN0ID0gX3VzZVRvYXN0RWZmZWN0LnNob3dUb2FzdDsKCiAgICB2YXIgZGF0YSA9IHJlYWN0aXZlKHsKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIGVuc3VyZW1lbnQ6ICIiCiAgICB9KTsgLy8g5rOo5YaM5o6l5Y+jCgogICAgdmFyIGhhbmRsZVJlZ2lzdGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHBvc3QoIi9hcGkvdXNlci9yZWdpc3RlciIsIHsKICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IGRhdGEudXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBkYXRhLnBhc3N3b3JkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC5lcnJubykgPT09IDApIHsKICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJMb2dpbiIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBzaG93VG9hc3QoIuazqOWGjOWksei0pSEiKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgc2hvd1RvYXN0KCLms6jlhozor7fmsYLlpLHotKUhISIpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA3XV0pOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlUmVnaXN0ZXIoKSB7CiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsgLy8g6Lez6L2s5Yiw55qE55m75b2VCgoKICAgIHZhciBoYW5kbGVMb2dpbiA9IGZ1bmN0aW9uIGhhbmRsZUxvZ2luKCkgewogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogIkxvZ2luIgogICAgICB9KTsKICAgIH07CgogICAgdmFyIHRvcmVmc0RhdGEgPSB0b1JlZnMoZGF0YSk7CiAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7CiAgICAgIGhhbmRsZUxvZ2luOiBoYW5kbGVMb2dpbiwKICAgICAgaGFuZGxlUmVnaXN0ZXI6IGhhbmRsZVJlZ2lzdGVyLAogICAgICBzaG93OiBzaG93LAogICAgICB0b2FzdE1lc3NhZ2U6IHRvYXN0TWVzc2FnZSwKICAgICAgc2hvd1RvYXN0OiBzaG93VG9hc3QKICAgIH0sIHRvcmVmc0RhdGEpOwogIH0KfTs="},{"version":3,"sources":["/Users/panda/code/vue3+ts/pandong/src/views/register/Register.vue"],"names":[],"mappings":";;;AAuCA,SAAS,QAAT,EAAmB,MAAnB,QAAiC,KAAjC;AACA,SAAS,SAAT,QAA0B,YAA1B;AACA,SAAS,IAAT,QAAqB,qBAArB;AACA,OAAO,KAAP,IAAgB,cAAhB,QAAsC,4BAAtC;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,UADO;AAEb;AACA,EAAA,UAAU,EAAE;AAAE,IAAA,KAAI,EAAJ;AAAF,GAHC;AAKb,EAAA,KALa,mBAKL;AACN,QAAM,MAAK,GAAI,SAAS,EAAxB;;AADM,0BAEoC,cAAc,EAFlD;AAAA,QAEE,IAFF,mBAEE,IAFF;AAAA,QAEQ,YAFR,mBAEQ,YAFR;AAAA,QAEsB,SAFtB,mBAEsB,SAFtB;;AAIN,QAAM,IAAG,GAAI,QAAQ,CAAC;AACpB,MAAA,QAAQ,EAAE,EADU;AAEpB,MAAA,QAAQ,EAAE,EAFU;AAGpB,MAAA,UAAU,EAAE;AAHQ,KAAD,CAArB,CAJM,CASN;;AACA,QAAM,cAAa;AAAA,yEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEE,IAAI,CAAC,oBAAD,EAAuB;AAC9C,kBAAA,QAAQ,EAAE,IAAI,CAAC,QAD+B;AAE9C,kBAAA,QAAQ,EAAE,IAAI,CAAC;AAF+B,iBAAvB,CAFN;;AAAA;AAEb,gBAAA,MAFa;;AAMnB,oBAAI,CAAA,MAAM,SAAN,IAAA,MAAM,WAAN,YAAA,MAAM,CAAE,KAAR,MAAkB,CAAtB,EAAyB;AACvB,kBAAA,MAAM,CAAC,IAAP,CAAY;AAAE,oBAAA,IAAI,EAAE;AAAR,mBAAZ;AACF,iBAFA,MAEO;AACL,kBAAA,SAAS,CAAC,OAAD,CAAT;AACF;;AAVmB;AAAA;;AAAA;AAAA;AAAA;AAYnB,gBAAA,SAAS,CAAC,UAAD,CAAT;;AAZmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAb,cAAa;AAAA;AAAA;AAAA,OAAnB,CAVM,CAyBN;;;AACA,QAAM,WAAU,GAAI,SAAd,WAAc,GAAM;AACxB,MAAA,MAAM,CAAC,IAAP,CAAY;AAAE,QAAA,IAAI,EAAE;AAAR,OAAZ;AACD,KAFD;;AAGA,QAAM,UAAS,GAAI,MAAM,CAAC,IAAD,CAAzB;AACA;AACE,MAAA,WAAW,EAAX,WADF;AAEE,MAAA,cAAc,EAAd,cAFF;AAGE,MAAA,IAAI,EAAJ,IAHF;AAIE,MAAA,YAAY,EAAZ,YAJF;AAKE,MAAA,SAAS,EAAT;AALF,OAMK,UANL;AAQD;AA3CY,CAAf","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <img\n      src=\"http://www.dell-lee.com/imgs/vue3/user.png\"\n      alt=\"用户头像\"\n      class=\"wrapper__img\"\n    />\n    <div class=\"wrapper__input\">\n      <input\n        type=\"username\"\n        class=\"wrapper__input__content\"\n        placeholder=\"请输入用户名\"\n        v-model=\"username\"\n      />\n    </div>\n    <div class=\"wrapper__input\">\n      <input\n        type=\"password\"\n        class=\"wrapper__input__content\"\n        placeholder=\"请输入密码\"\n        v-model=\"password\"\n        autocomplete=\"new-password\"\n      />\n    </div>\n    <div class=\"wrapper__input\">\n      <input\n        type=\"password\"\n        class=\"wrapper__input__content\"\n        placeholder=\"请再次输入密码\"\n        v-model=\"ensurement\"\n      />\n    </div>\n    <div class=\"wrapper__register-button\" @click=\"handleRegister\">注册</div>\n    <div class=\"wrapper__register-link\" @click=\"handleLogin\">立即登录</div>\n    <Toast v-if=\"show\" :message=\"toastMessage\" />\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { post } from \"../../utils/request\";\nimport Toast, { useToastEffect } from \"../../components/Toast.vue\";\n\nexport default {\n  name: \"Register\",\n  // 使用子组件\n  components: { Toast },\n\n  setup() {\n    const router = useRouter();\n    const { show, toastMessage, showToast } = useToastEffect();\n\n    const data = reactive({\n      username: \"\",\n      password: \"\",\n      ensurement: \"\",\n    });\n    // 注册接口\n    const handleRegister = async () => {\n      try {\n        const result = await post(\"/api/user/register\", {\n          username: data.username,\n          password: data.password,\n        });\n        if (result?.errno === 0) {\n          router.push({ name: \"Login\" });\n        } else {\n          showToast(\"注册失败!\");\n        }\n      } catch (e) {\n        showToast(\"注册请求失败!!\");\n      }\n    };\n    // 跳转到的登录\n    const handleLogin = () => {\n      router.push({ name: \"Login\" });\n    };\n    const torefsData = toRefs(data);\n    return {\n      handleLogin,\n      handleRegister,\n      show,\n      toastMessage,\n      showToast,\n      ...torefsData,\n    };\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"../../style/viriables.scss\";\n.wrapper {\n  position: absolute;\n  left: 0;\n  top: 50%;\n  right: 0;\n  transform: translateY(-50%);\n  &__img {\n    display: block;\n    margin: 0 auto 0.4rem auto;\n    width: 0.66rem;\n    height: 0.66rem;\n  }\n  &__input {\n    height: 0.48rem;\n    margin: 0 0.4rem 0.16rem 0.4rem;\n    background: #f9f9f9;\n    border: 0.01rem solid rgba(0, 0, 0, 0.1);\n    border-radius: 0.06rem;\n    &__content {\n      line-height: 0.48rem;\n      border: none;\n      outline: none;\n      width: 100%;\n      background: none;\n      font-size: 0.16rem;\n      &::placeholder {\n        color: $content-notice-fontcolor;\n      }\n    }\n  }\n  &__register-button {\n    margin: 0.32rem 0.4rem 0.16rem 0.4rem;\n    line-height: 0.48rem;\n    background: #0091ff;\n    box-shadow: 0 0.04rem 0.08rem 0 rgba(0, 145, 255, 0.32);\n    border-radius: 0.04rem;\n    border-radius: 0.04rem;\n    color: $content-notice-fontcolor;\n    font-size: 0.16rem;\n    text-align: center;\n  }\n  &__register-link {\n    text-align: center;\n    font-size: 0.14rem;\n    color: $content-notice-fontcolor;\n  }\n}\n</style>\n"],"sourceRoot":""}]}